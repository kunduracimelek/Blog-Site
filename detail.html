<!DOCTYPE html>
<html lang="tr" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Blog Detay</title>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f8fafc;
      --text: #1a202c;
      --card: white;
      --accent: #3b82f6;
    }

    html[data-theme="dark"] {
      --bg: #1e293b;
      --text: #f1f5f9;
      --card: #334155;
      --accent: #60a5fa;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Rubik', sans-serif;
      background: var(--bg);
      color: var(--text);
      padding: 40px 20px;
      transition: all 0.3s ease;
      max-width: 800px;
      margin: auto;
    }

    a.back-link {
      display: inline-block;
      margin-bottom: 30px;
      text-decoration: none;
      color: var(--accent);
      font-weight: 600;
      transition: color 0.3s;
    }

    a.back-link:hover {
      color: #2563eb;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      animation: fadeIn 1s ease forwards;
    }

    .date {
      color: var(--accent);
      font-weight: bold;
      margin-bottom: 10px;
    }

    .read-time {
      font-size: 0.9rem;
      color: gray;
      margin-bottom: 30px;
    }

    .content {
      font-size: 1.1rem;
      line-height: 1.7;
      white-space: pre-line;
      opacity: 0;
      animation: fadeIn 1s ease 0.5s forwards;
    }

    .share-btn,
    .scroll-top {
      position: fixed;
      padding: 8px 14px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      z-index: 100;
      background: var(--accent);
      color: white;
      font-size: 0.9rem;
    }

    .share-btn {
      top: 70px;
      right: 20px;
    }

    .scroll-top {
      bottom: 30px;
      right: 30px;
      display: none;
    }

    #themeSelect {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 8px 12px;
      border-radius: 8px;
      z-index: 101;
      cursor: pointer;
      background: var(--card);
      color: var(--text);
      border: 1px solid var(--accent);
      font-weight: 600;
    }

    @keyframes fadeIn {
      to {
        opacity: 1;
      }
    }

    @media (max-width: 600px) {
      h1 {
        font-size: 1.8rem;
      }
    }
  </style>
</head>
<body>
  <select id="themeSelect" aria-label="Tema Se√ßici">
    <option value="light">‚òÄÔ∏è G√ºnd√ºz</option>
    <option value="dark">üåô Gece</option>
    <option value="auto">üåì Sistem</option>
  </select>

  <button class="share-btn" id="shareBtn">üîó Payla≈ü</button>
  <button class="scroll-top" id="scrollTop">‚¨ÜÔ∏è</button>

  <a href="index.html" class="back-link">‚Üê Ana Sayfaya D√∂n</a>
  <h1 id="postTitle">Y√ºkleniyor...</h1>
  <div class="date" id="postDate"></div>
  <div class="read-time" id="readTime"></div>
  <div class="content" id="postContent"></div>

  <script>
    // Temayƒ± uygulayan ve se√ßimi kaydeden fonksiyon
    const htmlTag = document.documentElement;
    const themeSelect = document.getElementById("themeSelect");

    function applyTheme(theme) {
      if (theme === "auto") {
        // Sistem tercihine g√∂re tema ayarla
        const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
        htmlTag.setAttribute("data-theme", prefersDark ? "dark" : "light");
      } else {
        htmlTag.setAttribute("data-theme", theme);
      }
    }

    // Daha √∂nce kayƒ±tlƒ± tema varsa onu uygula, yoksa auto yap
    const savedTheme = localStorage.getItem("theme") || "auto";
    themeSelect.value = savedTheme;
    applyTheme(savedTheme);

    // Sistem temasƒ± deƒüi≈üirse otomatik g√ºncelleme (auto se√ßiliydiyse uygulasƒ±n istiyorum)
    window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", e => {
      if (themeSelect.value === "auto") {
        applyTheme("auto");
      }
    });

    // Tema se√ßimi deƒüi≈üince kaydet ve uygula
    themeSelect.addEventListener("change", () => {
      const selected = themeSelect.value;
      localStorage.setItem("theme", selected);
      applyTheme(selected);
    });

    // Yukarƒ± √ßƒ±k butonu
    const scrollTopBtn = document.getElementById("scrollTop");
    window.addEventListener("scroll", () => {
      scrollTopBtn.style.display = window.scrollY > 200 ? "block" : "none";
    });
    scrollTopBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    // URL'den ID alma fonksiyonu
    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }

    // Blog yazƒ±larƒ± 
    const posts = [
      { id: "1", title: "Yapay Zeka Nereye Gidiyor?", date: "1 Haziran 2025", content: `2025 yƒ±lƒ±nda yapay zekada b√ºy√ºk geli≈ümeler ya≈üanƒ±yor...` },
      { id: "2", title: "Frontend mi Backend mi?", date: "28 Mayƒ±s 2025", content: `Yazƒ±lƒ±ma ba≈ülayanlar i√ßin en zor kararlardan biri...` },
      { id: "3", title: "Siber G√ºvenlikte Yeni Trendler", date: "20 Mayƒ±s 2025", content: `Siber g√ºvenlik alanƒ±nda ortaya √ßƒ±kan yeni tehditler...` },
      { id: "4", title: "Motivasyonun G√ºc√º", date: "15 Mayƒ±s 2025", content: `Ba≈üarƒ±ya ula≈ümak i√ßin motivasyon √ßok √∂nemli bir fakt√∂rd√ºr...` },
      { id: "5", title: "JavaScript ES2025 Yenilikleri", date: "10 Mayƒ±s 2025", content: `JavaScript dilinde ES2025 ile gelen yeni √∂zellikler...` },
      { id: "6", title: "API Tasarƒ±mƒ±nda En ƒ∞yi Uygulamalar", date: "5 Mayƒ±s 2025", content: `Ba≈üarƒ±lƒ± bir API tasarƒ±mƒ± i√ßin RESTful prensiplere...` },
      { id: "7", title: "Veri Biliminde Temel Kavramlar", date: "30 Nisan 2025", content: `Veri bilimi alanƒ±nda kullanƒ±lan temel kavramlar...` },
      { id: "8", title: "Kariyer Planlamasƒ±nda Dikkat Edilmesi Gerekenler", date: "25 Nisan 2025", content: `Kariyer yolunda doƒüru adƒ±mlarƒ± atmak i√ßin...` },
    ];

    const postId = getQueryParam("id");
    const post = posts.find(p => p.id === postId);

    const titleEl = document.getElementById("postTitle");
    const dateEl = document.getElementById("postDate");
    const contentEl = document.getElementById("postContent");
    const readTimeEl = document.getElementById("readTime");

    if (post) {
      titleEl.textContent = post.title;
      dateEl.textContent = post.date;
      contentEl.textContent = post.content;

      // Okuma s√ºresi hesaplama
      const wordCount = post.content.split(/\s+/).length;
      const readingTime = Math.ceil(wordCount / 200); // 200 kelime/dk
      readTimeEl.textContent = `‚è± Tahmini Okuma S√ºresi: ${readingTime} dakika`;
    } else {
      titleEl.textContent = "Yazƒ± bulunamadƒ±.";
      dateEl.textContent = "";
      contentEl.textContent = "Ge√ßersiz ya da mevcut olmayan bir yazƒ± ID'si girdiniz.";
      readTimeEl.textContent = "";
    }

    // Payla≈ü butonu
    const shareBtn = document.getElementById("shareBtn");
    shareBtn.addEventListener("click", () => {
      const url = window.location.href;
      if (navigator.clipboard) {
        navigator.clipboard.writeText(url).then(() => {
          shareBtn.textContent = "‚úÖ Kopyalandƒ±!";
          setTimeout(() => (shareBtn.textContent = "üîó Payla≈ü"), 2000);
        });
      } else {
        alert("Tarayƒ±cƒ±nƒ±z payla≈üma √∂zelliƒüini desteklemiyor.");
      }
    });
  </script>
</body>
</html>
